# Application Configuration
APP_NAME=ResXiv
APP_VERSION=1.0.0
APP_DESCRIPTION=Unified Research Collaboration Platform
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=your-super-secure-secret-key-change-this-in-production

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1
RELOAD=true

# JWT Configuration
JWT_SECRET_KEY=your-super-secure-jwt-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Database Configuration - PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=resxiv
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_ECHO=false
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20

# Database Configuration - MongoDB
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DB=resxiv_chat
MONGODB_USER=
MONGODB_PASSWORD=
MONGODB_REPLICA_SET=

# Redis Configuration (for caching and sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SOCKET_TIMEOUT=30
REDIS_CONNECTION_POOL_SIZE=10

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_HEADERS=*

# Security Configuration
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# File Upload Configuration
MAX_FILE_SIZE=50  # MB
ALLOWED_FILE_TYPES=pdf,doc,docx,tex,txt,png,jpg,jpeg,svg
UPLOAD_DIR=./uploads
STATIC_DIR=./static
PAPERS_DIR=../../papers  # Directory for downloaded papers (ArXiv PDFs, etc.)

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
FROM_EMAIL=noreply@resxiv.com

# External API Configuration
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key
ARXIV_API_BASE_URL=http://export.arxiv.org/api

# AWS Configuration (optional, for S3 file storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=resxiv-files

# Elasticsearch Configuration (for search)
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX_PREFIX=resxiv

# Celery Configuration (for background tasks)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/resxiv.log
LOG_ROTATION=1d
LOG_RETENTION=30d

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds
RATE_LIMIT_STORAGE=redis://localhost:6379/3

# WebSocket Configuration
WS_MAX_CONNECTIONS=1000
WS_HEARTBEAT_INTERVAL=30
WS_MESSAGE_MAX_SIZE=1048576  # 1MB

# LaTeX Configuration
LATEX_COMPILER=pdflatex
LATEX_TIMEOUT=30
LATEX_WORKING_DIR=./temp/latex

# AI/ML Configuration
MODEL_CACHE_DIR=./models
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
VECTOR_DB_PATH=./data/chroma

# Monitoring and Health
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# Development Only
PYTEST_TIMEOUT=300
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/resxiv_test
COVERAGE_THRESHOLD=80

# Production Only (set these in production)
SENTRY_DSN=your-sentry-dsn
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_FILE_UPLOAD=true
ENABLE_AI_FEATURES=true
ENABLE_REAL_TIME_COLLABORATION=true
ENABLE_ANALYTICS=true
ENABLE_EXTERNAL_APIS=true

# Cache Configuration
CACHE_TTL=3600  # seconds
CACHE_MAX_SIZE=1000
CACHE_BACKEND=redis

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_INTERVAL=24h
BACKUP_RETENTION=7d
BACKUP_STORAGE=s3://resxiv-backups 

# ================================================================
# PAPER PROCESSING SETTINGS
# ================================================================

# GROBID Service URL (for PDF metadata extraction)
GROBID_URL=http://localhost:8070

# ResXiv V2 Data Directory (automatically created at /ResXiv_V2)
# This directory contains:
# - /ResXiv_V2/papers/ (PDF files)
# - /ResXiv_V2/bib/ (Bibliography files)
# - /ResXiv_V2/xml/ (GROBID XML outputs)
RESXIV_DATA_DIR=/ResXiv_V2

# ================================================================
# LLM INTEGRATION SETTINGS
# ================================================================

# OpenAI API Settings (for paper diagnostics)
OPENAI_API_KEY=your_openai_api_key_here

# Ollama Settings (alternative to OpenAI for local LLM)
OLLAMA_BASE_URL=http://localhost:11434

# ================================================================
# CHAT SYSTEM SETTINGS (Redis & MongoDB)
# ================================================================

# Redis Configuration for Real-time Chat
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SOCKET_TIMEOUT=30
REDIS_CONNECTION_POOL_SIZE=20

# MongoDB Configuration for Chat Messages
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DB=resxiv_chat
MONGODB_USER=
MONGODB_PASSWORD=
MONGODB_REPLICA_SET=

# Chat Feature Settings
CHAT_MESSAGE_CACHE_TTL=3600
CHAT_USER_ONLINE_TTL=300
CHAT_TYPING_INDICATOR_TTL=10
CHAT_MAX_MESSAGE_LENGTH=10000
CHAT_MAX_MESSAGES_PER_PAGE=100

# ======================================
# Agentic System Configuration
# ======================================

# OpenAI Configuration (Required for agentic system)
OPENAI_API_KEY=your_openai_api_key_here

# Agentic Model Configuration
AGENTIC_MODEL=gpt-4o-mini
AGENTIC_MAX_TOOL_CALLS=25
AGENTIC_SESSION_TIMEOUT_HOURS=24

# Agent Configuration (Enable/Disable specific agents)
ENABLE_RESEARCH_AGENT=true
ENABLE_PROJECT_AGENT=true
ENABLE_PAPER_AGENT=true

# Tool Configuration (Enable/Disable specific tool categories)
ENABLE_RESEARCH_TOOLS=true
ENABLE_PROJECT_TOOLS=true
ENABLE_PAPER_TOOLS=true

# PDF Chat Configuration
MAX_PDF_UPLOAD_SIZE_MB=50